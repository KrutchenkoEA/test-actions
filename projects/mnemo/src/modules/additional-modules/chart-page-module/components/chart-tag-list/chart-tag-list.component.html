<div
  *transloco="let t; read: 'mnemo.ChartPageSelectorComponent'"
  [ngClass]="'predictors-list_' + cPDataService.currentDirection"
  class="predictors-list"
>
  <div
    *ngFor="let item of cPDataService.activeTagMap | keyvalue"
    (click)="selectPredictor(item.value)"
    [class.line-loader]="chartWrapService.chartWrapLoading$ | async"
    [class.predictor_active]="item.value.isActive"
    class="predictor"
    matRipple
    matRippleColor="var(--color-logo-50)"
    tluiDirDirective
  >
    <div class="predictor__title">
      <div [ngStyle]="{ backgroundColor: getPredictorColor(item.key) }" class="marker"></div>
      <span matTooltip="{{ item.value.tagName }}">{{ item.value.tagName }}</span>
    </div>
    <div class="predictor__setting">
      <button
        (click)="openSettingPopup($event, item.value, item.key)"
        [disabled]="checkSetting(item.value.tagName)"
        btnStyle="tertiary"
        class="predictor__button"
        matTooltip="{{ t('advancedSettings') }}"
        size="sm"
        tluiButton
      >
        <svg-icon class="tlui-icon--sm" src="tluiIconSets"></svg-icon>
        <svg-icon *ngIf="isChanged(item.value.tagName)" class="predictor__button_changed" src="tluiIconEditPen">
        </svg-icon>
      </button>
    </div>
    <div
      *ngIf="isSeparateLayer(item.value.tagName)"
      (click)="catchEvent($event)"
      class="predictor__info predictor__info_good predictor__info_blink"
    >
      <svg-icon
        (click)="catchEvent($event)"
        matTooltip="{{ 'mnemo.ChartSettingComponent.separateLayer' | transloco }}"
        src="tluiIconChartMountainCorner"
      >
      </svg-icon>
    </div>

    <div
      *ngIf="isEmptyData(item.value.tagName)"
      (click)="catchEvent($event)"
      class="predictor__info predictor__info_error predictor__info_blink"
    >
      <svg-icon (click)="catchEvent($event)" [matTooltip]="t('emptyText')" src="tluiIconAlertAlarm"> </svg-icon>
    </div>
  </div>
</div>
